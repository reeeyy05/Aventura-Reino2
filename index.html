<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="styles.css">
    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <title>Aventura Reino</title>
</head>

<body>
    <header>
        <h2>Aventura en el Reino de JS</h2>
    </header>

    <main>
        <!-- Escena 1: Creacion Jugador -->
        <div id="formulario-jugador" class="scene active">
            <h2>Crear Jugador</h2>

            <form id="form-crear-jugador" onsubmit="crearJugador(event)">
                <div class="grupo-form">
                    <label for="nombre">Nombre</label>
                    <input id="nombre" name="nombre" type="text" maxlength="20" required>
                </div>

                <div class="grupo-form">
                    <label for="ataque-input">Ataque</label>
                    <input id="ataque-input" name="ataque-input" type="number" value="0" min="0" step="1" required>
                </div>

                <div class="grupo-form">
                    <label for="defensa-input">Defensa</label>
                    <input id="defensa-input" name="defensa-input" type="number" value="0" min="0" step="1" required>
                </div>

                <div class="grupo-form">
                    <label for="vida-input">Vida</label>
                    <input id="vida-input" name="vida-input" type="number" value="100" min="100" step="1" required>
                </div>

                <button type="submit">Crear Jugador</button>
            </form>
            <p id="errores-formulario"></p>
        </div>

        <!-- Escena 2: Estado jugador -->
        <div id="inicio" class="scene">
            <h2>Estado inicial del Jugador</h2>

            <div class="inicio-contenedor">
                <div class="inicio-imagen">
                    <img id="imagen-jugador-inicio" src="img/Jugador.svg" alt="Jugador">
                </div>
                <div class="inicio-datos">
                    <p><strong>Jugador: </strong> <span id="nombre-jugador"></span></p>
                    <p><strong>Vida: </strong><span id="vida-jugador"></span></p>
                    <p><strong>Puntos: </strong> <span id="puntos-jugador"></span></p>
                    <p><strong>Ataque: </strong> <span id="ataque-jugador"></span></p>
                    <p><strong>Defensa: </strong> <span id="defensa-jugador"></span></p>
                    <p><strong>Dinero: </strong> <span id="dinero-jugador"></span></p>
                </div>
            </div>

            <button onclick="mostrarEscena('mercado')">Ir al Mercado</button>
        </div>

        <!-- Escena 3: Mercado -->
        <div id="mercado" class="scene">
            <h2>Mercado del Reino</h2>
            <p id="mensaje-descuento"></p>
            <div id="contenedor-productos"></div>
            <button onclick="confirmarCompra()">Confirmar compra</button>
        </div>

        <!-- Escena 4: Equipar jugador -->
        <div id="jugador" class="scene">
            <h2>Estado del jugador tras las compras</h2>

            <div class="inicio-contenedor">
                <div class="inicio-datos">
                    <p><strong>Jugador: </strong> <span id="nombre-actualizado"></span></p>
                    <p><strong>Vida: </strong><span id="vida-actualizada"></span></p>
                    <p><strong>Puntos: </strong> <span id="puntos-actualizado"></span></p>
                    <p><strong>Ataque: </strong> <span id="ataque-actualizado"></span></p>
                    <p><strong>Defensa: </strong> <span id="defensa-actualizada"></span></p>
                    <p><strong>Dinero: </strong> <span id="dinero-actualizado"></span></p>
                </div>
            </div>

            <button onclick="mostrarEscena('enemigos')"> Mostrar Enemigos</button>
        </div>


        <!-- Escena 5: Enemigos -->
        <div id="enemigos" class="scene">
            <h2>Enemigos del Reino</h2>
            <div id="contenedor-enemigos"></div>
            <button onclick="iniciarBatallas()">Comenzar batallas</button>
        </div>

        <!-- Escena 6: Batallas -->
        <div id="batallas" class="scene">
            <h2>Batallas</h2>
            <div id="monedas">
                <img src="img/moneda.png" alt="moneda">
                <img src="img/moneda.png" alt="moneda">
                <img src="img/moneda.png" alt="moneda">
            </div>

            <div id="zona-combate">
                <div class="fila-combate">
                    <!-- Columna jugador -->
                    <div class="col-combate">
                        <div id="imagen-jugador-combate" class="imagen-jugador-anim"></div>
                        <p id="info-jugador-combate" class="info-combate"></p>
                    </div>

                    <div class="col-combate vs">VS</div>

                    <!-- Columna enemigo -->
                    <div class="col-combate">
                        <div id="imagen-enemigo-combate" class="imagen-enemigo-anim"></div>
                        <p id="info-enemigo-combate" class="info-combate"></p>
                    </div>
                </div>

                <div id="registro-batallas"></div>
            </div>

            <button id="siguiente-batalla" onclick="siguienteBatalla()">Siguiente Batalla</button>
            <button id="finalizar" onclick="finalizarJuego()">Terminar Batallas</button>
        </div>

        <!-- Escena 7: Ranking -->
        <div id="resultado" class="scene">
            <h2>Resultado Final</h2>
            <p><strong>Jugador: </strong><span id="nombre-final"></span></p>
            <p><strong>Puntos: </strong><span id="puntos-final"></span></p>
            <p><strong>Categoria: </strong><span id="categoria-final"></span></p>
            <button id="mostrar-tabla" onclick="mostrarTabla()">Ver clasificaci&oacute;n</button>
        </div>

        <!-- Escena 8: Tabla -->
        <div id="informacion-tabla" class="scene">
            <div class="tabla-contenedor">
                <table>
                    <thead>
                        <tr class="encabezado">
                            <th>Jugador</th>
                            <th>Puntos</th>
                            <th>Dinero</th>
                        </tr>
                    </thead>

                    <tbody>
                    </tbody>
                </table>
            </div>
            <button id="reiniciar" onclick="reiniciarJuego()">Reiniciar Juego</button>
        </div>
    </main>

    <footer>
        <div id="monedero">
            <img src="img/monedero.png">
            <span id="dinero">500</span>
        </div>
        <div id="contenedor-inventario">
            <div class="item"></div>
            <div class="item"></div>
            <div class="item"></div>
            <div class="item"></div>
            <div class="item"></div>
            <div class="item"></div>
        </div>
    </footer>
</body>

</html>